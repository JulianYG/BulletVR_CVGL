This readme file is composed by two parts. First part is instructions on using the built VR environment, and the second part is documentation on three relevant scripts: model.py, VRcontrol.py, and engine.py.

Demo instructions

There are currently four types of simulator executable from engine.py. kukaSimulator has two kaka arms with 6DOF VR controller mapping, which aims to simulate the motion control of human arms. The graspSimulator is deprecated. The demoSimulator is used for grasping task data collection, and the simSimulator is a single kaka arm without gripper; instead itâ€™s equipped with a magnetic end effector, which is able to attach objects from contact.

To use the simulators, first initialize by calling their constructors as in the script. The second input argument is the task input, represented by a list of object and pose tuples. To record, enter the name of file you want to save as in the record method. In bullet3/bin, execute the AppsSharedMemoryVR.exe, then call engine.py in command line. Press ctrl+C to stop recording. The record file will can be replayed using replay function. 

General operations: trigger for closing grippers, touch pad for engaging arms.

Notes:
1. For demoSimulator, the AppsSharedMemoryVR.exe VR interface must be closed and reopened for every different record. Other simulators will automatically reset the scene with ctrl+C.
2. For kukaSimulator, two controllers need to be both turned on before running engine.py. Hold the circle button in the center to engage the arms, release for disengage. 
3. For all other simulators, it is suggested to just keep one controller turned on, in order to avoid the interference from the idle controller to the arm.


Code instructions

The file model.py has the abstract classes BulletPhysicsVR and KukaArmVR for all VR simulators. Class hierarchy: 
BulletPhysicsVR -> KukaArmVR 
KukaArmVR -> KukaSingleArmVR, KukaDoubleArmVR
BulletPhysicsVR -> PR2GripperVR, DemoVR

The saveVideo is currently not implemented.

BulletPhysicsVR callable methods:
replay(file, saveVideo)
record(file, saveVideo)
set_camera_view(focusX, focusY, focusZ, roll, pitch, yaw, focal_len):


Features to be added on demoSimulator: change the boundary from red to green after placing the item inside; add constraint to the items inside boundary; add explicit labels on the items and boundary lines.
